Parameterized Secrets for the ETL Pipeline
==========================================

Process
-------
1. Inventory the secrets the pipeline needs (PostgreSQL host, port, database,
   username, password, optional API keys).
2. Create a ``.env.example`` that lists the required keys with placeholder
   values, and ensure ``.env`` is ignored by version control.
3. For local development, place real credentials in a per-developer ``.env`` or
   load them into the shell environment before running ``main.py``.
4. Update ``Load.create_connection`` (and any other helpers that open database
   sessions) to read from ``os.environ`` or a helper that unwraps the secret
   material supplied at runtime.
5. In staging/production, provision the same variables from a managed secrets
   service (for example HashiCorp Vault, AWS Secrets Manager, Azure Key Vault),
   injected via the deployment tooling or container orchestrator.
6. Document the rotation workflow so operators can replace credentials without
   code changes, and automate revocation of old secrets where possible.

How It Works
------------
- The pipeline reads configuration keys on startup, either from the ``.env`` file
  loaded by a library such as ``python-dotenv`` or directly from environment
  variables populated by the runtime.
- Connection helpers assemble the DSN dynamically, pulling each component from
  the injected parameters, so no literals appear in ``main.py`` or supporting
  modules.
- When the deployment injects new values, the application picks them up on next
  launch without requiring a redeploy of the code artifacts.

Why It Matters
--------------
- Removes credentials from the repository, preventing accidental disclosure
  through commits, pull requests or log statements.
- Enables frequent rotation and the use of unique secrets per environment,
  shrinking the blast radius of a compromise.
- Aligns with least-privilege and compliance requirements (GDPR, PCI DSS, SOC 2)
  by demonstrating control over how sensitive configuration is stored and
  accessed.
